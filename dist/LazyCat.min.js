(function(){"use strict";var e={};e.image=function(e,t,a){var o=typeof e==="string"?document.querySelectorAll(e):e.length===undefined?[e]:e;for(var n=0;n<o.length;n++){(function(e){var n=new Image;n.src=o[e].getAttribute("data-lazycat-image");n.onload=function(){if(o[e].tagName.toLowerCase()==="img"){o[e].setAttribute("src",n.src)}else{o[e].style.backgroundImage='url("'+n.src+'")'}if(t)t.call(o[e])};n.onerror=function(){if(a)a.call(o[e])}})(n)}};e.video=function(e,t,a){var o=typeof e==="string"?document.querySelector(e):e;o.load();var n=function(){o.setAttribute("data-lazycat-loaded","");if(t)t.call(o)};o.addEventListener("canplay",function(){if(!o.hasAttribute("data-lazycat-loaded")){n()}});if(!o.hasAttribute("data-lazycat-loaded")){if(o.readyState>2){n()}else{if(a){setTimeout(function(){if(!o.hasAttribute("data-lazycat-loaded"))n()},a)}}}};e.videoBlob=function(e,t,a){var o=typeof e==="string"?document.querySelector(e):e;var n=o.getAttribute("data-lazycat-video");var i=new XMLHttpRequest;if(o.canPlayType('video/mp4;codecs="avc1.42E01E, mp4a.40.2"')){i.open("GET",n)}i.responseType="blob";i.send();i.onload=function(){o.src=URL.createObjectURL(i.response);if(t)t.call(o)};i.onerror=function(){if(a)a.call(o)}};if(typeof define==="function"&&define.amd)define(e);else if(typeof module==="object"&&module.exports)module.exports=e;else this.LazyCat=e}).call(this);