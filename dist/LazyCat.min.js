(function(){"use strict";var e={};e.image=function(e,t,a){var o=typeof e==="string"?document.querySelectorAll(e):e.length===undefined?[e]:e;for(var i=0;i<o.length;i++){(function(e){var i=new Image;i.src=o[e].getAttribute("data-lazycat-image");i.onload=function(){if(o[e].tagName.toLowerCase()==="img"){o[e].setAttribute("src",i.src)}else{o[e].style.backgroundImage='url("'+i.src+'")'}if(t)t.call(o[e])};i.onerror=function(){if(a)a.call(o[e])}})(i)}};e.video=function(e,t,a){var o=typeof e==="string"?document.querySelector(e):e;var i=o.getAttribute("data-lazycat-video");o.src=i;o.removeAttribute("data-lazycat-video");o.load();var n=function(){o.setAttribute("data-lazycat-loaded","");if(t)t.call(o)};o.addEventListener("canplay",function(){if(!o.hasAttribute("data-lazycat-loaded")){n()}});if(!o.hasAttribute("data-lazycat-loaded")){if(o.readyState>2){n()}else{if(a){setTimeout(function(){if(!o.hasAttribute("data-lazycat-loaded"))n()},a)}}}};e.videoBlob=function(e,t,a){var o=typeof e==="string"?document.querySelector(e):e;var i=o.getAttribute("data-lazycat-video");var n=new XMLHttpRequest;if(o.canPlayType('video/mp4;codecs="avc1.42E01E, mp4a.40.2"')){n.open("GET",i)}n.responseType="blob";n.send();n.onload=function(){o.src=URL.createObjectURL(n.response);if(t)t.call(o)};n.onerror=function(){if(a)a.call(o)}};if(typeof define==="function"&&define.amd)define(e);else if(typeof module==="object"&&module.exports)module.exports=e;else this.LazyCat=e}).call(this);