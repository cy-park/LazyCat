(function(){"use strict";var t={};t.Image=function(t,e,a,i,o){var n=document.querySelectorAll(t);for(var r=0;r<n.length;r++){(function(t){var r=new Image;r.src=n[t].getAttribute("data-lazycat-image");r.onload=function(){if(n[t].tagName.toLowerCase()==="img"){n[t].setAttribute("src",r.src)}else{n[t].style.backgroundImage='url("'+r.src+'")'}if(e)e.apply(n[t],a)};r.onerror=function(){if(i)i.apply(n[t],o)}})(r)}};t.Video=function(t,e,a){var i=document.querySelector(t);var o=i.getAttribute("data-lazycat-video");i.src=o;i.removeAttribute("data-lazycat-video");setTimeout(function(){i.load()},0);i.addEventListener("canplay",function(){if(!i.hasAttribute("data-lazycat-init")){i.setAttribute("data-lazycat-init","");if(e)e.apply(i,a)}});if(!i.hasAttribute("data-lazycat-init")){if(i.readyState>=2){i.setAttribute("data-lazycat-init","");if(e)e.apply(i,a)}}};t.VideoBlob=function(t,e,a){var i=document.querySelector(t);var o=i.getAttribute("data-lazycat-video");var n=new XMLHttpRequest;if(i.canPlayType('video/mp4;codecs="avc1.42E01E, mp4a.40.2"')){n.open("GET",o)}n.responseType="blob";n.send();n.onload=function(){i.src=URL.createObjectURL(n.response);if(e)e.apply(i,a)}};if(typeof define==="function"&&define.amd)define(t);else if(typeof module==="object"&&module.exports)module.exports=t;else this.LazyCat=t}).call(this);